<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1251">

</HEAD>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<H1><A NAME="idh_oftnnodelist"></A><SUP></SUP>Список узлов (FTS-0005)</H1>

<P>Список узлов (Nodelist) — это официальный документ в рамках сети. Использование и поддержка списка узлов является удобным способом распространения и обновления данных об узлах сети.</P>

<P>Система Аргус поддерживает список узлов стандарта FTS-0005, который соответствует списку узлов сети Public Fidonet Network (PFN), публикуемому каждую пятницу. Этот формат исторически известен как <I>St. Louis nodelist format</I>.</P>

<P>Список узлов стандарта FTS-0005 представляет собой ASCII-файл. Имя файла соответствует маске <CODE>NODELIST.%%%</CODE>, где <CODE>%%%</CODE> — это три цифры, представляющие число (дополненное слева нулями)  дней с начала года до пятницы, в которую был опубликован. Файл списка узлов содержит два типа строк: строки комментариев, начинающиеся с символа “<CODE>;</CODE>” и строки данных. Каждая строка завершается парой ASCII-симолов перевода строки (CR) и возврата каретки (LF). Строк данных не может содержать пробелов и символов табуляции. Файл завершается ASCII-символом конца файла (десятичный код 26, или “Ctrl-Z”).</P>

<P>Система Аргус снимает множество ограничений, накладываемых на список узлов стандартом FTS-0005. Так, например, маска <CODE>NODELIST.%%%</CODE> не является обязательной для Аргуса, как и символ конца файла, а пятница не является единственно допустимым днем недели для опубликования.</P>

<P>Каждая строка данных списка узлов состоит из восьми полей, разделенных запятой “<CODE>,</CODE>”. Так как использование пробельных символов в строке данных не допускается, вместо них применяется символ подчеркивания “<CODE>_</CODE>”. </P>

<H2>Поле 1: “Ключевое слово”</H2>

<TABLE cols=2 width=615>

<TR VALIGN="top">
<TD width=10%>
<PRE><CODE>Zone</CODE></PRE>
</TD>
<TD width=90%>Служит для определения зоны и ее координатора. Все последующие строки данных описывают регионы, сети, и узлы этой зоны. Узлы, определенные сразу после ключевого слова “<CODE>Zone</CODE>”, но до первого определения региона или хоста, являются административными узлами зоны.</TD>
</TR>

<TR VALIGN="top">
<TD width=10%>
<PRE><CODE>Region</CODE></PRE>
</TD>
<TD width=90%>Служит для определения региона в пределах зоны и его координатора. Узлы, определенные сразу после ключевого слова “<CODE>Region</CODE>”, но до первого “<CODE>Zone</CODE>”, “<CODE>Region</CODE>” или “<CODE>Host</CODE>”, называются независимыми узлами данного региона.</TD>
</TR>

<TR VALIGN="top">
<TD width=10%>
<PRE><CODE>Host</CODE></PRE>
</TD>
<TD width=90%>Служит для определения сети и ее координатора. Узлы, определенные после ключевого слова “<CODE>Host</CODE>”, но до первого “<CODE>Zone</CODE>”, “<CODE>Region</CODE>” или “<CODE>Host</CODE>”, являются узлами (или членами) данной сети.</TD>
</TR>

<TR VALIGN="top">
<TD width=10%>
<PRE><CODE>Hub</CODE></PRE>
</TD>
<TD width=90%>Определяет узел, который является главным в подсегменте сети. Подсегмент включает все узлы до первого “<CODE>Zone</CODE>”, “<CODE>Region</CODE>”, “<CODE>Host</CODE>” или “<CODE>Hub</CODE>”.</TD>
</TR>

<TR VALIGN="top">
<TD width=10%>
<PRE><CODE>Pvt</CODE></PRE>
</TD>
<TD width=90%>Определяет служебный узел в рамках сети. В соответствии с FTS-0005, этот флаг позволяет узлу иметь неопубликованный номер телефона.</TD>
</TR>

<TR VALIGN="top">
<TD width=10%>
<PRE><CODE>Hold</CODE></PRE>
</TD>
<TD width=90%>Определяет временно нефункционирующий узел, на который почта обычно передается через сетевого координатора.</TD>
</TR>

<TR VALIGN="top">
<TD width=10%>
<PRE><CODE>Down</CODE></PRE>
</TD>
<TD width=90%>Определяет полностью нефункционирующий узел, подлежащий скорому удалению из списка узлов. На этот узел почта передаваться не может. </TD>
</TR>

<TR VALIGN="top">
<TD width=10%>
<PRE><I><CODE>пусто</CODE></I></PRE>
</TD>
<TD width=90%>Определяет обычный узел.</TD>
</TR>
</TABLE><BR>

<h2>Поле 2: “Номер Зоны / Региона / Сети / Узла”</h2>

<P>Это поле содержит только цифры, и, в соответствии с FTS-0005, является номером в диапазоне 0-32767. Система Аргус накладывает иные ограничения на это поле: для зоны — до 4095, для сетей и узлов — до 65535.</P>

<P>Номера зон должны быть уникальными. Номера регионов и сетей должны быть уникальными только в пределах своей зоны. Номера главных узлов подсегментов уникальны в пределах своей сети. Номера узлов уникальны в пределах сети (в пределах региона, для независимых узлов региона, и в пределах зоны, для административных узлов зоны).</P>

<h2>Поле 3: “Имя узла”</h2>

<P>Это поле может содержать любые алфавитные символы, кроме пробелов и запятых. Подчеркивания используются, чтобы представить пробелы, а запятая определяет конец поля. Имя узла — это, обычно, название, под которым узел известен в сети.</P>

<h2>Поле 4: “Географическое положение”</h2>

<P>Это поле может содержать любые алфавитные символы, кроме пробелов и запятых. Подчеркивания используются, чтобы представить пробелы, а запятая определяет конец поля. Географическое положение обычно состоит из имени населенного пункта и административного деления.</P>

<h2>Поле 5: “Имя системного оператора”</h2>

<P>Это поле содержит имя системного оператора, и может содержать любые алфавитные символы, кроме пробелов и запятых. Подчеркивания используются, чтобы представить пробелы, а запятая определяет конец поля.</P>

<h2>Поле 6: “Номер телефона”</h2>

<P>Это поле представляет несколько числовых подполей, разделенных символом черточки ( ‹<CODE>-</CODE>‹, десятичный код 45). По спецификации FTS-0005, числовых подполей должно быть как минимум три, хотя обычно используется четыре. В системе Аргус нет ограничений на количество подполей, однако, хотя бы один символ-разделитель “<CODE>-</CODE>“ должен присутствовать в номере телефона обязательно.</P>

<P>Поле номера телефона может содержать, вместо номера, зарезервированную строку “<CODE>-Unpublished-</CODE>”. По стандарту FTS-0005, узел с неопубликованным телефоном должен обязательно иметь ключевой слово Pvt в первом поле. Аргус такое ограничение не накладывает, и строка “<CODE>-Unpublished-</CODE>” может присутствовать вместо номера телефона у любого узла, в таком случае прозвонка на такой узел просто не будет производиться.</P>

<h2>Поле 7: “Скорость”</h2>

<P>По стандарту FTS-0005, это поле определяет максимальную скорость соединения для узла, и может содержать одно из значений: 300, 1200, 2400, 9600, а в последних редакциях, 19200 или 38400. Система Аргус поддерживает это поле только для совместимости с FTS-0005, иными словами, значение поля 7 игнорируется.</P>

<h2>Поле 8: “Флаги”</h2>

<P>Это поле опционально, оно может содержать специфичные данные о работе узла, такие как типы обрабатываемых файловых запросов, протоколы модема, и т.д. Это поле состоит из одного или более подполей, разделенных запятыми. </P>

<P>Вот несколько примеров строк данных списка узлов:</P>

<PRE><CODE>Zone,2,Europe_&amp;_more,Belgium,Ward_Dossche,32-3-4480880,9600,CM,XX,U,K12,Z19
Region,46,Ukraine_and_Moldova,Donetsk_Ukraine,Anton_Kuznetsov,380-622-322106,9600,V34,V32B,V42B,CM,MO,XA,U,ENC
Host,469,Moldova_Net,Moldova,Michael_Karpov,373-2-246484,9600,V34,XX,MO,U,TSF
Hub,38,RIT_Zeppelin,Kishinau,Auto_Pilot,373-2-246888,9600,CM,MO,V34,XA,ZYX
,84,Blue_Carnation,Kishinau,Max_Masyutin,373-2-511511,9600,ZYX,XA</CODE></PRE>

</BODY>
</HTML>
