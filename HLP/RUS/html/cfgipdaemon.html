<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1251">

</HEAD>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<H1><A NAME="idh_cfgipdaemon"></A>Диалог кофигурации TCP/IP Daemon</H1>

<P>Диалог конфигурации TCP/IP Daemon вызывается посредством меню <A HREF="mnuconfig.html">Config</A> / TCP/IP Daemon.</P>

<h2>General</h2>

<P>Здесь описываются параметры соединений TCP/IP. В <U>сетке</U> Incoming Ports указываются номера портов, на которых <A HREF="introdaemon.html">TCP/IP Daemon</A> ожидает входные соединения для каждого из трех протоколов.</P>

<h2>Station</h2>

<P>Данные о станции, передаваемые удаленной системе. Они во многом схожи с данными, конфигурируемыми для модемных <A HREF="cfgemsi.html">EMSI-соединений</A>. Однако если Вы намерены связываться с почтовой системой <I>BinkD by Dima Maloff</I>, использующий <A HREF="binkp.html">протокол BinkP</A>, адреса в поле Address List следует указывать в соответствии с 5D-адресацией, то есть с обязательным указанием домена, например 2:469/84@fidonet. Если Вы укажете свой адрес без домена, например 2:469/84, то BinkD не сможет его интерпретировать как 5D и аварийно завершит соединение.</P>

<H2>AKA</H2>

<P>Аргус имеет возможность, при соединении с определенными узлами, подставлять в качестве своего списка адресов иные значения, нежели Address list таблицы данных Station.</P>

<P>В поле “Удаленные адреса” можно перечислять несколько адресов или <A HREF="addrmasks.html">масок</A> через пробел. При совпадении одного из адресов поля “Удаленные адреса” с одним из адресов удаленной системы в качестве списка адресов нашей станции будут предъявлены адреса поля “Локальные адреса” соответствующего ряда. Формат поля “Локальные адреса” идентичен формату поля Address list таблицы данных Statioin.</P>

<P>Механизм AKA работает как на <A HREF="oftnemsi.html">EMSI</A>, так и на <A HREF="binkp.html">BinkP</A>-соединении.</P>

<P>Первичным адресом удаленной системы при парольной сессии считается не первый из строки AKA, а первый запароленный адрес. Тем не менее, запаролено может быть сразу несколько адресов, при этом пароль должен быть единым для всех. Первичный адрес используется как адрес для привязки запрошенных файлов, а также во время <A HREF="cfgfilerequests.html">SRIF-запросов</A>, а также для ведения <A HREF="logs.html">binary_log и access_log</A>. Механизм <A HREF="cfgextpp.html">сортировки</A> входящих файлов по каталогам, в зависимости от адреса удаленной системы, также использует первичный адрес.</P>

<H2>Banner</H2>

<P>Banner - это приглашение, текст которого выводится на экран пользователю, который соединяется с Аргусом обычной терминальной программой типа Telnet (а не почтовой системой стандарта FTN), обычно на порту 23.</P>

<h2>Restrictions</h2>

<P>Ограничения для исходящих IP-соединений.</P>

<UL>
	<LI><U>Required</U> -условия, необходимые для того, чтобы производить исходящие соединения .<BR><BR></LI>

	<LI><U>Forbidden</U> - условия достаточные для того, чтобы соединений не производить. В текущей версии реализованы условия двух типов - <A HREF="addrmasks.html">маска адресов</A> (а также <A HREF="regexp.html">регулярные выражения</A>) и флаги узла.</LI>
</UL>

<P>Условия ограничения для исходящих IP-соединений схожи с <A HREF="cfgrest.html">условиями ограничений модемных прозвонок</A>.</P>

<h2>Events</h2>

<P>В списке Available находятся <A HREF="cfgevents.html">события</A>, не привязанные к TCP/IP Daemon. Привязать их можно нажатием кнопки <B><CODE>&gt;</CODE></B> , это перенесет событие в список Linked и привяжет к TCP/IP Daemon.</P>

<h2>Nodes</h2>

<P><A HREF="guigrid.html">Сетка</A> переопределений TCP/IP узлов, в которой можно переопределить для узла один или более IP-адросов, портов или протоколов. Здесь также можно переопределить <A HREF="cfgipflg.html">флаги</A> и время работы узла, вместо указанных в <A HREF="oftnnodelist.html">списке IP - узлов</A>. IP-адрес можно указывать косвенно (через список IP - узлов).</P>

<P>В строке ввода Auxiliary Nodes File можно указать путь к файлу дополнительных переопределений TCP/IP-узлов, которые будут использоваться помимо указанных в сетке. Формат файла следующий (переопределения одного узла на строку):</P>

<P></P>

<PRE><CODE>Адрес | Переопределения</CODE></PRE>

<P>Пример:</P>

<PRE><CODE>2:469/38 | 373-2-246-530,CM,ZYX 373-7-222-222,CM,HST
3:383/514 | 3:383/513,HST,CM 3:383/550,V34,U,TACL</CODE></PRE>

<P>Файл дополнительных переопределений загружается в память при запуске Аргуса, а также при обнаружении <A HREF="fileflags.html">флага</A><CODE> IPOVR.OK</CODE> в <A HREF="hd.html">Home Directory</A>. Результаты загрузки файла отражаются в хронологии прозвонок.</P>

<P>Рассмотрим случай, когда узел не находится ни в список узлов, ни в DNS, а Вы указали адрес его хоста без флагов, указывающих время работы. Подразумевается, что такой узел может принимать звонки только в ZMH (а пойнт вообще никогда). Поэтому </P>

<P>появление пакета с приоритетом Crash или Direct в <A HREF="bso.html">буфере отправки</A> будет служить Аргусу сигналом устанавливать исходящие соединения с узлом только в его ZMH. С пойнтом, в этом случае, Аргус вообще не будет пытаться установить исходящее соединение. Прозвонка может не происходить также и из-за того, что флаги узла прописаны не до конца, и/или могут не соответствовать <A HREF="cfgrest.html">Dial Restrictions</A>.</P>

<P>Вы можете работать с Аргусом без списка IP-узлов, указав здесь IP-адреса узлов, на которые Вы обычно звоните.</P>

<P>Таблица переопределений TCP/IP узлов схожа с <A HREF="cfgnodes.html">таблицей переопределений модемных узлов</A>.</P>

<P>Формат переопределения узла: <CODE>адрес,флаги</CODE></P>

<P>Узел, работающий по IP должен обязательно содержать один из специальных <A HREF="cfgipflg.html">TCP/IP-флагов</A>.</P>

<P>Адрес в переопределении можно указывать как прямо, например <CODE>193.219.215.111,CM,IFC</CODE> так и косвенно (номер будет извлечен из текущего списка узлов) например <CODE>5:133/555,CM,IFC</CODE></P>

<P>Одно переопределение может содержать несколько узлов, перечисленных через пробел.</P>

<P>Адрес можно задавать как в цифровом, так и в символьном (DNS) виде, то есть в виде имени Интернет-хоста. Для указания адреса в символьном виде, его необходимо заключать в кавычки: <CODE>"fido.ritlabs.com",CM,IFC</CODE></P>

<P>Для переопределения IP-порта его значение указывается после адреса через символ подчеркивания: <CODE>"fido.ritlabs.com"_23,CM,IFC </CODE>или <CODE>"193.219.215.111"_23,CM,IFC</CODE></P>

<P>Auxiliary TCP/IP node overrides file is loading into memory on Argus Start-up and by detection of <CODE>IPOVR.OK</CODE> <A HREF="fileflags.html">file-flag</A> in Argus <A HREF="hd.html">Home Directory</A>. Results of parsing of the file are logged in polls log.</P>

<H2>DNS</H2>

<P>Argus also supports DNS distributed nodelists.</P>

<P>IP addresses of FTN nodes can be from DNS by rendering their FTN addresses to host domain name and resolving this name. The rendering is performing by the following scheme:</P>

<PRE><CODE>[p&lt;Point&gt;.]f&lt;Node&gt;.n&lt;Net&gt;.z&lt;Zone&gt;.&lt;RootDomain&gt;</CODE></PRE>

<P>The default root domain for Fidonet-reserved FTN-zones (1,2,3,4,5,6) is fidonet.net. E.g., the IP address of node 1:2/3.4, according to this scheme, is to be the same as of host p4.f2.n3.z1.fidonet.net.</P>

<P>Root domains for each address mask are configured in DNS tab of TCP/IP Daemon Configuration dialogue. Address mask may also contain <A HREF="regexp.html">Regular Expressions</A>.</P>

<P>См. также:

<UL>
	<LI><A HREF="cfgnodes.html">Таблица переопределений модемных узлов</A><BR><BR></LI>

	<LI><A HREF="introdaemon.html">TCP/IP Daemon</A><BR><BR></LI>

	<LI><A HREF="cfgipflg.html">Специальные флаги TCP/IP</A>.</LI>
</UL>

</BODY>
</HTML>
